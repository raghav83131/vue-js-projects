{"ast":null,"code":"import \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport { ref, onMounted } from 'vue';\nimport axios from 'axios';\nexport default {\n  __name: 'FilterForm',\n  emits: ['applyFilters', 'resetFilters'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const filters = ref({\n      section: '',\n      line: '',\n      date: '',\n      kmFrom: null,\n      kmTo: null\n    });\n    const allData = ref([]);\n    const uniqueSections = ref([]);\n    const uniqueLines = ref([]);\n    const uniqueDates = ref([]);\n    const emit = __emit;\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('http://localhost:8000/dair/get-predictions', {\n          auth: {\n            username: 'DAIR_ML',\n            password: 'TDMDATAPREP'\n          }\n        });\n        allData.value = response.data;\n        uniqueSections.value = [...new Set(allData.value.map(item => item.TMS_SECTION))];\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    const updateLines = () => {\n      const filtered = allData.value.filter(item => item.TMS_SECTION === filters.value.section);\n      uniqueLines.value = [...new Set(filtered.map(item => item.LINE))];\n    };\n    const updateDates = () => {\n      const filtered = allData.value.filter(item => item.TMS_SECTION === filters.value.section && item.LINE === filters.value.line);\n      uniqueDates.value = [...new Set(filtered.map(item => item.RUNDATE))];\n    };\n    const applyFilters = () => {\n      const filtered = allData.value.filter(item => (!filters.value.section || item.TMS_SECTION === filters.value.section) && (!filters.value.line || item.LINE === filters.value.line) && (!filters.value.date || item.RUNDATE === filters.value.date) && (!filters.value.kmFrom || item.KM >= filters.value.kmFrom) && (!filters.value.kmTo || item.KM <= filters.value.kmTo));\n      emit('applyFilters', filtered);\n    };\n    const resetFilters = () => {\n      filters.value = {\n        section: '',\n        line: '',\n        date: '',\n        kmFrom: null,\n        kmTo: null\n      };\n      emit('resetFilters');\n    };\n    onMounted(fetchData);\n    const __returned__ = {\n      filters,\n      allData,\n      uniqueSections,\n      uniqueLines,\n      uniqueDates,\n      emit,\n      fetchData,\n      updateLines,\n      updateDates,\n      applyFilters,\n      resetFilters,\n      ref,\n      onMounted,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","axios","filters","section","line","date","kmFrom","kmTo","allData","uniqueSections","uniqueLines","uniqueDates","emit","__emit","fetchData","response","get","auth","username","password","value","data","Set","map","item","TMS_SECTION","error","console","updateLines","filtered","filter","LINE","updateDates","RUNDATE","applyFilters","KM","resetFilters"],"sources":["C:/Users/hp/Desktop/G/web development/web-dev-projects/track-ui-vue/src/components/FilterForm.vue"],"sourcesContent":["<template>\r\n    <div class=\"form-container\">\r\n      <div class=\"input-container\">\r\n        <div class=\"input-group\">\r\n          <label for=\"tmsSection\">Section:</label>\r\n          <select id=\"tmsSection\" v-model=\"filters.section\" @change=\"updateLines\">\r\n            <option value=\"\">-Select One-</option>\r\n            <option v-for=\"section in uniqueSections\" :key=\"section\" :value=\"section\">\r\n              {{ section }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"input-group\">\r\n          <label for=\"line\">Line:</label>\r\n          <select id=\"line\" v-model=\"filters.line\" :disabled=\"!filters.section\" @change=\"updateDates\">\r\n            <option value=\"\">-ALL-</option>\r\n            <option v-for=\"line in uniqueLines\" :key=\"line\" :value=\"line\">\r\n              {{ line }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"input-group\">\r\n          <label for=\"rundate\">Date:</label>\r\n          <select id=\"rundate\" v-model=\"filters.date\" :disabled=\"!filters.line\">\r\n            <option value=\"\">-ALL-</option>\r\n            <option v-for=\"date in uniqueDates\" :key=\"date\" :value=\"date\">\r\n              {{ date }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"input-group\">\r\n          <label for=\"kmFrom\">Km From:</label>\r\n          <input type=\"number\" id=\"kmFrom\" v-model.number=\"filters.kmFrom\" :disabled=\"!filters.line\" />\r\n        </div>\r\n        <div class=\"input-group\">\r\n          <label for=\"kmTo\">Km To:</label>\r\n          <input type=\"number\" id=\"kmTo\" v-model.number=\"filters.kmTo\" :disabled=\"!filters.line\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"button-container\">\r\n        <button class=\"generate-btn\" @click=\"applyFilters\">Generate Prediction</button>\r\n        <button class=\"reset-btn\" @click=\"resetFilters\">Reset Filter</button>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  <script setup>\r\n  import { ref, onMounted } from 'vue'\r\n  import axios from 'axios'\r\n  \r\n  const filters = ref({\r\n    section: '',\r\n    line: '',\r\n    date: '',\r\n    kmFrom: null,\r\n    kmTo: null\r\n  })\r\n  \r\n  const allData = ref([])\r\n  const uniqueSections = ref([])\r\n  const uniqueLines = ref([])\r\n  const uniqueDates = ref([])\r\n  \r\n  const emit = defineEmits(['applyFilters', 'resetFilters'])\r\n  \r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:8000/dair/get-predictions', {\r\n        auth: { username: 'DAIR_ML', password: 'TDMDATAPREP' }\r\n      })\r\n      allData.value = response.data\r\n      uniqueSections.value = [...new Set(allData.value.map(item => item.TMS_SECTION))]\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error)\r\n    }\r\n  }\r\n  \r\n  const updateLines = () => {\r\n    const filtered = allData.value.filter(item => item.TMS_SECTION === filters.value.section)\r\n    uniqueLines.value = [...new Set(filtered.map(item => item.LINE))]\r\n  }\r\n  \r\n  const updateDates = () => {\r\n    const filtered = allData.value.filter(item => \r\n      item.TMS_SECTION === filters.value.section && \r\n      item.LINE === filters.value.line\r\n    )\r\n    uniqueDates.value = [...new Set(filtered.map(item => item.RUNDATE))]\r\n  }\r\n  \r\n  const applyFilters = () => {\r\n    const filtered = allData.value.filter(item => (\r\n      (!filters.value.section || item.TMS_SECTION === filters.value.section) &&\r\n      (!filters.value.line || item.LINE === filters.value.line) &&\r\n      (!filters.value.date || item.RUNDATE === filters.value.date) &&\r\n      (!filters.value.kmFrom || item.KM >= filters.value.kmFrom) &&\r\n      (!filters.value.kmTo || item.KM <= filters.value.kmTo)\r\n    ))\r\n    emit('applyFilters', filtered)\r\n  }\r\n  \r\n  const resetFilters = () => {\r\n    filters.value = { section: '', line: '', date: '', kmFrom: null, kmTo: null }\r\n    emit('resetFilters')\r\n  }\r\n  \r\n  onMounted(fetchData)\r\n  </script>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}